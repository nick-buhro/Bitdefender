//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Net.Http;
using System.Threading;
using System.Threading.Tasks;
using Newtonsoft.Json.Linq;
using NickBuhro.Bitdefender.Models;

namespace NickBuhro.Bitdefender.Controllers
{
	
    /// <summary>
    /// The Network API allows managing the network structure through the following
    /// methods:
    /// * getCompaniesList : returns the list of companies under a parent company
    /// or from a company folder.
    /// * getCompanyFoldersList : returns the list of company folders under a
    /// company or under a company folder.
    /// * createCompanyFolder : creates a new folder under an existing folder or
    /// company.
    /// * deleteCompanyFolder : deletes a company folder.
    /// * moveCompanyOrCompanyFolder : moves a company or company folder
    /// under a parent company or company folder.
    /// * getEndpointsList : returns the list of endpoints under the specified company
    /// or group.
    /// * getManagedEndpointDetails : returns the properties of the specified
    /// endpoint.
    /// * createCustomGroup : creates a new group under an existing one or under
    /// a company&apos;s Computers and Groups.
    /// * deleteCustomGroup : deletes a custom group.
    /// * getCustomGroupsList : retrieves the list of groups under a specified group.
    /// * moveEndpoints : moves the specified list of endpoints to a custom group.
    /// * deleteEndpoint : deletes a specified endpoint.
    /// * moveCustomGroup : moves a custom group under another custom group.
    /// * getRootContainers : returns the root containers for a company. Available
    /// root containers include Companies, Network, Computers and Groups, Deleted.
    /// * createScanTask : launches a scan task on the specified endpoints or groups.
    /// The available scan types are: Quick Scan, Full Scan and Memory Scan.
    /// * getScanTasksList : returns the list of scan tasks.
    /// API url: CONTROL_CENTER_APIs_ACCESS_URL/v1.0/jsonrpc/network
    /// </summary>	
    public sealed partial class NetworkController : Controller
    {		
        public NetworkController(HttpClient http)
            : base(http, "/v1.0/jsonrpc/network") { }


        /// <summary>	
        /// This method returns the list of companies under a parent company or from a
        /// company folder.
        /// </summary>
        /// <param name="parentId"> The parent company&apos;s ID or the company folder&apos;s ID. The default value is the ID of the parent company. </param>
        /// <returns>
        /// This method returns an Array containing the list of companies located under the
        /// parent company. Each entry in the list has the following fields:
        /// * id - the ID of the company
        /// * name - the name of the company
        /// </returns>
        public Task<Company[]> GetCompaniesList (
            string parentId = null,
            CancellationToken ct = default(CancellationToken))
        {

            var p = new JObject();
            if (parentId != null)
                p["parentId"] = parentId;
                        
            return Send<JObject, Company[]>("getCompaniesList", p, ct);
        }
    }
}

